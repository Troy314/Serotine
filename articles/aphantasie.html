<div id="utterances-container"></div>

<script>
function loadUtterances(theme) {
  const container = document.getElementById('utterances-container');
  container.innerHTML = ''; // Supprime le script existant

  const script = document.createElement('script');
  script.src = 'https://utteranc.es/client.js';
  script.setAttribute('repo', 'Troy314/utterances');
  script.setAttribute('issue-term', 'pathname');
  script.setAttribute('theme', theme);
  script.crossOrigin = 'anonymous';
  script.async = true;
  container.appendChild(script);
}

// Chargement initial
loadUtterances('photon-dark');

// Exemple : changement de thÃ¨me
document.getElementById('theme-toggle').addEventListener('click', () => {
  const currentTheme = document.body.dataset.theme === 'dark' ? 'github-light' : 'photon-dark';
  document.body.dataset.theme = currentTheme === 'photon-dark' ? 'dark' : 'light';
  loadUtterances(currentTheme);
});
</script>
